```C++
const int trigPin = 7;
const int echoPin = 6;
// defining variables
long duration;
int distance;
void setup() {
pinMode(trigPin, OUTPUT); // Sets the trigPin as an Output
pinMode(echoPin, INPUT); // Sets the echoPin as an Input
Serial.begin(9600); // Starts the serial communication
}
void loop() {
// Clears the trigPin
digitalWrite(trigPin, LOW);
delayMicroseconds(2);
// Sets the trigPin on HIGH state for 10 micro seconds
digitalWrite(trigPin, HIGH);
delayMicroseconds(10);
digitalWrite(trigPin, LOW);
// Reads the echoPin, returns the sound wave travel time in microseconds
duration = pulseIn(echoPin, HIGH);
// Calculating the distance
distance= duration*0.034/2;
// Prints the distance on the Serial Monitor
Serial.print("Distance: ");
Serial.println(distance);
}
```
  
 Here is a piece of code,so i think you can now linking the sonar to arduino by the description of the piece of code.  
   
   
Click [Here](https://github.com/510Lab/ArduinoTutorial/blob/main/pics/demoPics/7-1ultrasonic_circuit_connection.jpg) to see how to connect.  
  
  
OK,it's easy,now let's combine what you have learned before,to make the led lighter when the ultrasonic detector detects the obstacle ahead and the distance is getting closer and closer.
